import java.util.Scanner;                                                                        /*IMPORTING PACKAGES*/
import java.io.*;

class xxx
{
  public static void appendStrToFile(String fileName,String str)
  {
    try                                                                                           /*EXCEPTION HANDLING*/
    {
      BufferedWriter bw = new BufferedWriter(new FileWriter(fileName,true));
      PrintWriter out = new PrintWriter(bw);
      out.println(str);
      out.close();
    }catch(IOException e){System.out.println("Exception occured : "+e);}                            
  }
}
abstract class Bank extends xxx                                                                    /*ABSTRACTION*/
{
	static final float ROI=7;                                                                  /*STATIC FINAL KEYWORD*/
        //String file = D:/mybank.txt;
	double cust_bal=200000;
	abstract public void withdraw(int amt);
	abstract public void deposit(int amt);
	abstract public void SI();
	abstract public void display();                                                           /*ABSTRACT METHODS*/
}


abstract class Intermediate extends Bank
{
	
	public void deposit(int amt)
	{
		System.out.println("Processing request");
		cust_bal= cust_bal+amt;
		System.out.println("Request processed"+"\n Remaining balance in account:"+cust_bal);
                String s1 = Double.toString(cust_bal);                                            /*STRING HANDLING*/
                s1 = "DEPOSITED. Remaining balance in account:"+ s1;
                appendStrToFile("mybank.txt",s1);                                                 /*METHOD OVERRIDING*/
                
	}
	
	public void SI()
	{
		double si;
		int t=10;
		si= (cust_bal*ROI*t)/100;
		System.out.println("The interest generated by your current balance is:"+si);      /*FILE HANDLING(WRITING INTO AN EXISTING FILE)*/
                String s1 = Double.toString(si);                                                  /*WRAPPER CLASS*/  
                s1 = "SIMPLE INTEREST is :"+ s1; 
                appendStrToFile("mybank.txt",s1);
	}
	
	abstract public void display();
	abstract public void withdraw(int amt);
}
		
		
class SBI extends Intermediate	                                                                 /*INHERITANCE*/
{

		
		public void withdraw(int amt)
	{	
		if(amt>cust_bal)
			System.out.println("Insufficient funds");
		else
		{	
			System.out.println("Processing request");
			if(amt<50000)
				{cust_bal=cust_bal-amt;
                                String s1 = Double.toString(cust_bal);
                                s1 = "WITHDRAWN. Remaining balance in account:"+ s1;
                                appendStrToFile("mybank.txt",s1);} 
			else
			{
				cust_bal=(cust_bal-amt-amt*0.01);
				System.out.println("Request processed"+"\n Remaining balance in account:"+cust_bal);
                                String s1 = Double.toString(cust_bal);
                                s1 = "WITHDRAWN. Remaining balance in account:"+ s1;
                                appendStrToFile("mybank.txt",s1);
		}
		
		}
	}
		
		public void display()
	{
                System.out.println("*************************************************************************************************");
		System.out.println("The current customer details are:");
		System.out.println("Name:Sagarika \n Bank name:SBI");
		System.out.println("Balance in account:"+cust_bal);
                System.out.println("*************************************************************************************************");
	}
		
   }

		
class BOI extends Intermediate	
{	
		public void withdraw(int amt)                                               /*POLYMORPHISM(OVERRIDING)*/
	{	
		if(amt>cust_bal)
			System.out.println("Insufficient funds");
		else
		{	
			System.out.println("Processing request");
			if(amt<50000)
				cust_bal=cust_bal-amt;
			else
			{
				cust_bal=cust_bal-amt-(amt*0.02);
				System.out.println("Request processed"+"\n Remaining balance in account:"+cust_bal);
		}
		
		}
	}
		
		public void display()
	{
		System.out.println("The current customer details are:");
		System.out.println("Name:Sagarika \n Bank name:BOI");
		System.out.println("Balance in account:"+cust_bal);
	}
		
  }		
		
		
class AXIS extends Intermediate	
{

		
		public void withdraw(int amt)
	{	
		if(amt>cust_bal)
			System.out.println("Insufficient funds");
		else
		{	
			System.out.println("Processing request");
			if(amt<50000)
				cust_bal=cust_bal-amt;
			else
			{
				cust_bal=cust_bal-amt-amt*0.03;
				System.out.println("Request processed"+"\n Remaining balance in account:"+cust_bal);
		}
		
		}
	}
		
		public void display()
	{
		System.out.println("The current customer details are:");
		System.out.println("Name:Sagarika \n Bank name:AXIS");
		System.out.println("Balance in account:"+cust_bal);
	}
		
   }
		


class DemoBank
{
	public static void main(String args[])throws Exception
	{
		int option,choice,amt;
                
		System.out.println("Which bank do you wish to transact with: 1)SBI  2)BOI  3)AXIS");
		System.out.println("Enter your option:");
		Scanner sc= new Scanner(System.in);
		option=sc.nextInt();
                BufferedWriter bw = null;
                File file = new File("D:/mybank.txt");                                                 /*FILE HANDLING(CREATE A NEW FILE)*/
	        if (!file.exists()) {
	               file.createNewFile();
	        }
                try{                                                                                   /*EXCEPTION HANDLING*/
                String mycontent = "CUSTOMER NAME : SAGARIKA CHOUDHARY "; 
                FileWriter fw = new FileWriter(file);
	        bw = new BufferedWriter(fw);
                PrintWriter pw = new PrintWriter(bw);
	        pw.println(mycontent);
                pw.close();
                if(option==1)
                {
                String ss1="**************WELCOME TO SBI BANK**************";
                pw.println(ss1);
                pw.close();
                }
                
                else if(option==2)
                {
                String ss2="**************WELCOME TO BOI BANK**************";
                pw.println(ss2);
                pw.close();
                }
                else if(option==3)
                {
                String ss3="**************WELCOME TO AXIS BANK**************";
                pw.println(ss3);
                pw.close();
                }
                }
                catch (IOException ioe) {ioe.printStackTrace();}
                
		switch(option)                                                                      /*MENU-DRIVING*/
		{
			case 1:
			{
                System.out.println("**************WELCOME TO SBI BANK**************");
		do
		{
		SBI S=new SBI();                                                                   /*OBJECT CREATION*/
                int n=5;
                do{
                System.out.println("*************************************************************************************************");
		System.out.println("1. Withdraw \n2.deposit \n3.display simple interest \n4.Display details \n5.No pending work");
		System.out.println("Enter what is your option:");
		choice=sc.nextInt();
                n--;
		switch(choice)
		{
		
					case 1:
                        System.out.println("Enter amount to withdraw");
                        amt=sc.nextInt();
                        S.withdraw(amt);
                        break;
                    case 2:
                        System.out.println("Enter amount to deposit");
                        amt=sc.nextInt();
                        S.deposit(amt);
                        break;
                    case 3:
                    	S.SI();
                    case 4:
                        S.display();
                        break;
                    case 5:
                        System.out.println("Thank you");
                        break;
                    default:
                        System.out.println("Invalid choice");
		}}while(n>0);
	}
	while(choice!=5);
	}break;				


			case 2:
			{
                System.out.println("**************WELCOME TO BOI BANK**************");
				do
		{
		BOI B=new BOI();
                int n=5;
                do{
		System.out.println("1. Withdraw \n2.deposit \n3.display simple interest \n4.Display details \n5.No pending work");
		System.out.println("Enter what is your option:");
		choice=sc.nextInt();
                n--;
		switch(choice)
		{
		
					case 1:
                        System.out.println("Enter amount to withdraw");
                        amt=sc.nextInt();
                        B.withdraw(amt);
                        break;
                    case 2:
                        System.out.println("Enter amount to deposit");
                        amt=sc.nextInt();
                        B.deposit(amt);
                        break;
                    case 3:
                    	B.SI();
                    case 4:
                        B.display();
                        break;
                    case 5:
                        System.out.println("Thank you");
                        break;
                    default:
                        System.out.println("Invalid choice");
		}}while(n>0);
	}
	while(choice!=5);
	}break;


			case 3:
			{
                System.out.println("**************WELCOME TO AXIS BANK**************");
				do
		{
		AXIS A=new AXIS();
                int n=5;
                do{


		System.out.println("1. Withdraw \n2.deposit \n3.display simple interest \n4.Display details \n5.No pending work");
		System.out.println("Enter what is your option:");
		choice=sc.nextInt();
                n--;
		switch(choice)
		{
		
					case 1:
                        System.out.println("Enter amount to withdraw");
                        amt=sc.nextInt();
                        A.withdraw(amt);
                        break;
                    case 2:
                        System.out.println("Enter amount to deposit");
                        amt=sc.nextInt();
                        A.deposit(amt);
                        break;
                    case 3:
                    	A.SI();
                    case 4:
                        A.display();
                        break;
                    case 5:
                        System.out.println("Thank you");
                        break;
                    default:
                        System.out.println("Invalid choice");
		}}while(n>0);
	}
	while(choice!=5);
	}break;
}

System.out.println("All Transaction over");
}
}